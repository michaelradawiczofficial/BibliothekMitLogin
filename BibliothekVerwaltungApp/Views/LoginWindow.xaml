<Window x:Class="BibliothekVerwaltungApp.Views.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Anmeldung"
        SizeToContent="WidthAndHeight"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen"
        Background="#070B17">

    <Window.Resources>
        <!-- Farbpalette wie im Hauptfenster -->
        <SolidColorBrush x:Key="LibCardBackground" Color="#0B1220" />
        <SolidColorBrush x:Key="LibCardBorder" Color="#1F2937" />
        <SolidColorBrush x:Key="LibAccent" Color="#3B82F6" />
        <SolidColorBrush x:Key="LibAccentSoft" Color="#60A5FA" />
        <SolidColorBrush x:Key="LibAccentMuted" Color="#1D4ED8" />
        <SolidColorBrush x:Key="LibText" Color="#E5E7EB" />
        <SolidColorBrush x:Key="LibSubText" Color="#9CA3AF" />
        <SolidColorBrush x:Key="LibInputBackground" Color="#020617" />
        <SolidColorBrush x:Key="LibInputBorder" Color="#1F2937" />
        <SolidColorBrush x:Key="LibDanger" Color="#B91C1C" />
        <SolidColorBrush x:Key="LibDangerBorder" Color="#F97373" />

        <!-- Basis-Text -->
        <Style TargetType="TextBlock">
            <Setter Property="Foreground" Value="{StaticResource LibText}" />
            <Setter Property="FontFamily" Value="Segoe UI" />
        </Style>

        <!-- TextBox -->
        <Style TargetType="TextBox">
            <Setter Property="Foreground" Value="{StaticResource LibText}" />
            <Setter Property="Background" Value="{StaticResource LibInputBackground}" />
            <Setter Property="BorderBrush" Value="{StaticResource LibInputBorder}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="FontFamily" Value="Segoe UI" />
            <Setter Property="Padding" Value="6,3" />
        </Style>

        <!-- Standard-Button -->
        <Style TargetType="Button">
            <Setter Property="Foreground" Value="{StaticResource LibText}" />
            <Setter Property="Background" Value="{StaticResource LibAccentMuted}" />
            <Setter Property="BorderBrush" Value="{StaticResource LibAccentSoft}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="FontFamily" Value="Segoe UI" />
            <Setter Property="FontSize" Value="11" />
            <Setter Property="Padding" Value="10,4" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="SnapsToDevicePixels" Value="True" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Bd"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6"
                                SnapsToDevicePixels="True">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center"
                                              Margin="{TemplateBinding Padding}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Bd" Property="Background" Value="{StaticResource LibAccent}" />
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Bd" Property="Background" Value="#0B1120" />
                                <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource LibAccent}" />
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="Bd" Property="Background" Value="#111827" />
                                <Setter TargetName="Bd" Property="BorderBrush" Value="#1F2937" />
                                <Setter Property="Foreground" Value="#4B5563" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Primärer Login-Button -->
        <Style x:Key="PrimaryButtonStyle"
               TargetType="Button"
               BasedOn="{StaticResource {x:Type Button}}">
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="MinWidth" Value="90" />
        </Style>

        <!-- Sekundär-Button (Abbrechen) -->
        <Style x:Key="SecondaryButtonStyle"
               TargetType="Button"
               BasedOn="{StaticResource {x:Type Button}}">
            <Setter Property="Background" Value="#111827" />
            <Setter Property="BorderBrush" Value="#4B5563" />
            <Setter Property="MinWidth" Value="90" />
        </Style>

        <!-- Fehler-Text -->
        <Style x:Key="ErrorTextStyle" TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}">
            <Setter Property="Foreground" Value="{StaticResource LibDanger}" />
            <Setter Property="FontSize" Value="11" />
        </Style>
    </Window.Resources>

    <!-- zentrierte Karte -->
    <Border Padding="20"
            Background="{StaticResource LibCardBackground}"
            CornerRadius="12"
            BorderBrush="{StaticResource LibCardBorder}"
            BorderThickness="1"
            Margin="16">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="12" />
                <ColumnDefinition Width="220" />
            </Grid.ColumnDefinitions>

            <!-- Überschrift -->
            <StackPanel Grid.Row="0"
                        Grid.ColumnSpan="3"
                        Margin="0,0,0,18">
                <TextBlock Text="Bibliothek – Anmeldung"
                           FontSize="18"
                           FontWeight="SemiBold"/>
                <TextBlock Text="Bitte melden Sie sich an, um die Medienverwaltung zu öffnen."
                           Foreground="{StaticResource LibSubText}"
                           FontSize="11"
                           Margin="0,2,0,0"/>
            </StackPanel>

            <!-- Benutzername -->
            <TextBlock Grid.Row="1"
                       Grid.Column="0"
                       VerticalAlignment="Center"
                       Text="Benutzername:" />
            <TextBox Grid.Row="1"
                     Grid.Column="2"
                     MinWidth="200"
                     Margin="0,0,0,6"
                     Text="{Binding Benutzername, UpdateSourceTrigger=PropertyChanged}" />

            <!-- Passwort (bewusst TextBox wie in deiner Vorlage) -->
            <TextBlock Grid.Row="2"
                       Grid.Column="0"
                       VerticalAlignment="Center"
                       Text="Passwort:" />
            <TextBox Grid.Row="2"
                     Grid.Column="2"
                     MinWidth="200"
                     Margin="0,0,0,6"
                     Text="{Binding Passwort, UpdateSourceTrigger=PropertyChanged}" />

            <!-- Fehlermeldung -->
            <TextBlock Grid.Row="3"
                       Grid.ColumnSpan="3"
                       Margin="0,4,0,4"
                       Style="{StaticResource ErrorTextStyle}"
                       Text="{Binding Fehlermeldung}" />

            <!-- Buttons -->
            <StackPanel Grid.Row="4"
                        Grid.ColumnSpan="3"
                        Orientation="Horizontal"
                        HorizontalAlignment="Right"
                        Margin="0,12,0,0">
                <Button Content="Anmelden"
                        Style="{StaticResource PrimaryButtonStyle}"
                        Margin="0,0,10,0"
                        IsDefault="True"
                        Command="{Binding AnmeldenCommand}" />
                <Button Content="Abbrechen"
                        Style="{StaticResource SecondaryButtonStyle}"
                        IsCancel="True"
                        Command="{Binding AbbrechenCommand}" />
            </StackPanel>
        </Grid>
    </Border>
</Window>
